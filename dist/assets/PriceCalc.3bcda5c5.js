import{_ as z,n as D,b as v,o as _,c as h,d as t,w as p,F as C,g as M,v as x,e as f,h as r,t as L,x as k,f as T,Y,Z}from"./index.0a2bdc2d.js";const c=m=>(Y("data-v-d4e2fc74"),m=m(),Z(),m),q=c(()=>r("h1",null,"\u0418\u043D\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043B\u044C\u043D\u044B\u0435 \u0440\u0430\u0441\u0445\u043E\u0434\u044B",-1)),G=c(()=>r("span",{class:"mdi mdi-minus",style:{cursor:"pointer"}},null,-1)),H=c(()=>r("span",{class:"mdi mdi-12px mdi-plus"},null,-1)),J=k(" \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0446\u0435\u043D\u044B "),K=c(()=>r("h1",null,"\u0413\u0440\u0443\u043F\u043F\u043E\u0432\u044B\u0435 \u0440\u0430\u0441\u0445\u043E\u0434\u044B",-1)),Q=c(()=>r("span",{class:"mdi mdi-minus",style:{cursor:"pointer"}},null,-1)),W=c(()=>r("span",{class:"mdi mdi-12px mdi-plus"},null,-1)),X=k(" \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0446\u0435\u043D\u044B "),ee=c(()=>r("h1",null,"\u0422\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442",-1)),le=c(()=>r("span",null,"\u0414\u043E",-1)),te=c(()=>r("span",null,"\u0447\u0435\u043B\u043E\u0432\u0435\u043A",-1)),se=c(()=>r("span",null,"\u041C\u0438\u043D. \u043A\u043E\u043B-\u0432\u043E \u0447\u0435\u043B\u043E\u0432\u0435\u043A",-1)),ae=c(()=>r("span",{class:"mdi mdi-minus",style:{cursor:"pointer"}},null,-1)),oe=c(()=>r("span",{class:"mdi mdi-12px mdi-plus"},null,-1)),ne=k(" \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432\u0438\u0434\u044B \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u0430 "),pe={class:"slidecontainer"},re={__name:"PriceCalc",setup(m){const P="/trips";let l=D({people:5,maxPeople:19,indCost:[],groupCost:[],transport:[]});const R=()=>{l.indCost.push({type:"",price:""})},w=()=>{l.groupCost.push({type:"",price:""})},V=()=>{l.transport.push({type:"",peopleRange:0,price:"",minPeople:1}),console.log(l.transport)},$=s=>{let e=l.indCost.indexOf(s);e!==-1&&l.indCost.splice(e,1)},A=s=>{let e=l.groupCost.indexOf(s);e!==-1&&l.groupCost.splice(e,1)},E=s=>{let e=l.transport.indexOf(s);e!==-1&&l.transport.splice(e,1)};let y={};const O=s=>{l.people=s},B=s=>{Object.keys(s).map(e=>delete s[e])},F=s=>{var e=0;return l.indCost.forEach(function(o,d){e=e+o.price}),e},I=s=>{var e=0;return l.groupCost.forEach(function(o,d){e=e+o.price}),e},S=s=>{var e=[],o=[];l.transport.forEach(function(u,i){e[i]=u.peopleRange,o[i]=u.price});for(let u of e)if(u>=l.people){var d=o[e.indexOf(u)];break}return d},U=()=>{var s=F(l.indCost),e=I(l.groupCost),o=S(l.transport),d=s+(e+o)/l.people;return console.log(s,e,o,d),d},b=()=>{B(y);for(var s=1;s<=l.transport[l.transport.length-1].peopleRange;s++)y[s]=s,l.maxPeople=s;l.transport.forEach(function(e){y[e.peopleRange]={style:{color:"#000000"},label:t("strong",{},e.peopleRange)}})},N=s=>U();return(s,e)=>{const o=v("a-col"),d=v("a-input"),u=v("a-input-number"),i=v("a-button"),g=v("a-row"),j=v("a-slider");return _(),h(C,null,[t(M,{backRoute:P}),t(g,{type:"flex",justify:"center"},{default:p(()=>[t(o,{xs:22,lg:12},{default:p(()=>[t(g,{gutter:[16,128]},{default:p(()=>[t(o,{span:12},{default:p(()=>[q]),_:1}),t(o,{span:12,class:"centrify"},{default:p(()=>[(_(!0),h(C,null,x(f(l).indCost,a=>(_(),h("div",{key:a.type,style:{display:"flex"},align:"baseline",class:"ma-16"},[t(d,{value:a.first,"onUpdate:value":n=>a.first=n,placeholder:"\u0414\u043B\u044F \u043A\u043E\u0433\u043E"},null,8,["value","onUpdate:value"]),t(u,{value:a.price,"onUpdate:value":n=>a.price=n,style:{width:"100%"},placeholder:"\u0426\u0435\u043D\u0430",min:0,step:.01,class:"ml-16 mr-16"},null,8,["value","onUpdate:value","step"]),t(i,{onClick:n=>$(a),shape:"circle"},{default:p(()=>[G]),_:2},1032,["onClick"])]))),128)),t(i,{type:"dashed",block:"",onClick:R,class:"ma-8"},{default:p(()=>[H,J]),_:1})]),_:1}),t(o,{span:12},{default:p(()=>[K]),_:1}),t(o,{span:12,class:"centrify"},{default:p(()=>[(_(!0),h(C,null,x(f(l).groupCost,a=>(_(),h("div",{key:a.type,style:{display:"flex"},align:"baseline",class:"ma-16"},[t(d,{value:a.first,"onUpdate:value":n=>a.first=n,placeholder:"\u0414\u043B\u044F \u043A\u043E\u0433\u043E"},null,8,["value","onUpdate:value"]),t(u,{value:a.price,"onUpdate:value":n=>a.price=n,style:{width:"100%"},placeholder:"\u0426\u0435\u043D\u0430",min:0,step:.01,class:"ml-16 mr-16"},null,8,["value","onUpdate:value","step"]),t(i,{onClick:n=>A(a),shape:"circle"},{default:p(()=>[Q]),_:2},1032,["onClick"])]))),128)),t(i,{type:"dashed",block:"",onClick:w,class:"ma-8"},{default:p(()=>[W,X]),_:1})]),_:1}),t(o,{span:12},{default:p(()=>[ee]),_:1}),t(o,{span:12,class:"centrify"},{default:p(()=>[(_(!0),h(C,null,x(f(l).transport,a=>(_(),T(g,{style:{display:"flex"},class:"ma-16"},{default:p(()=>[t(o,{span:24},{default:p(()=>[t(d,{value:a.type,"onUpdate:value":n=>a.type=n,style:{width:"49%"},placeholder:"\u0412\u0438\u0434 \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u0430"},null,8,["value","onUpdate:value"]),t(u,{value:a.price,"onUpdate:value":n=>a.price=n,style:{width:"49%"},placeholder:"\u0426\u0435\u043D\u0430",min:0,step:.01},null,8,["value","onUpdate:value","step"])]),_:2},1024),t(o,{span:24,class:"tprice"},{default:p(()=>[le,t(u,{controls:!1,value:a.peopleRange,"onUpdate:value":n=>a.peopleRange=n,valueModifiers:{lazy:!0},style:{width:"25%"},placeholder:"1",min:0,onChange:e[0]||(e[0]=n=>b(s.value))},null,8,["value","onUpdate:value"]),te,se,t(u,{controls:!1,value:a.minPeople,"onUpdate:value":n=>a.minPeople=n,valueModifiers:{lazy:!0},style:{width:"25%"},placeholder:"1",min:0,onChange:e[1]||(e[1]=n=>b(s.value))},null,8,["value","onUpdate:value"]),t(i,{onClick:n=>E(a),shape:"circle"},{default:p(()=>[ae]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),256)),t(i,{type:"dashed",block:"",onClick:V,class:"ma-8"},{default:p(()=>[oe,ne]),_:1}),r("h1",null,"\u0418\u0442\u043E\u0433\u043E: "+L(U()),1)]),_:1}),t(o,{span:24},{default:p(()=>[r("div",pe,[t(j,{modelValue:f(l).people,"onUpdate:modelValue":e[2]||(e[2]=a=>f(l).people=a),min:1,max:f(l).maxPeople,class:"slider",tooltipVisible:!0,marks:f(y),onAfterChange:O,included:!1,tipFormatter:N},null,8,["modelValue","max","marks"])])]),_:1})]),_:1})]),_:1})]),_:1})],64)}}},ue=z(re,[["__scopeId","data-v-d4e2fc74"]]);export{ue as default};
