import{k as D,Q as F,n as N,p as C,b as h,o as l,c,d as u,w as _,F as T,v as b,e as o,h as t,f as S,t as n,x as i}from"./index.0a2bdc2d.js";const V=t("h3",null,"\u0412\u044B \u0437\u0430\u0431\u0440\u043E\u043D\u0438\u0440\u043E\u0432\u0430\u043B\u0438",-1),j={style:{"text-align":"center"}},z=t("span",{class:"mdi mdi-compass-outline"},null,-1),L=t("span",{class:"mdi mdi-calendar-arrow-right"},null,-1),$=t("span",{class:"mdi mdi-calendar-arrow-left"},null,-1),A={class:"d-flex justify-end"},E=t("span",null,"\u0418\u0442\u043E\u0433\u043E: ",-1),M={key:0,class:"d-flex justify-end"},P=t("span",{style:{color:"#BCC662"}},[t("span",{class:"mdi mdi-check-all",style:{"font-size":"20px"}}),i(" \u043E\u043F\u043B\u0430\u0447\u0435\u043D ")],-1),Q=[P],R={key:1,class:"d-flex justify-end"},q=t("span",{style:{color:"#ff6600"}},[t("span",{class:"mdi mdi-alert-circle-outline",style:{"font-size":"20px"}}),i(" \u043E\u043F\u043B\u0430\u0442\u0438\u0442\u044C ")],-1),G=[q],J={__name:"PurchasedTrips",setup(H){const p=D(),k=F();let s=N([]);const B=async()=>{if(p.user.boughtTrips)for(let a=0;a<p.user.boughtTrips.length;a++)await k.getById(p.user.boughtTrips[a].tripId).then(r=>{s.push(r.data)})},f=a=>{let r;return a.length==13?r=new Date(Number(a)):r=new Date(a),r.toLocaleDateString("ru-Ru",{year:"2-digit",month:"2-digit",day:"2-digit"})};return C(()=>{B()}),(a,r)=>{const g=h("a-divider"),x=h("a-card"),y=h("a-col"),v=h("a-row");return l(),c("div",null,[u(v,null,{default:_(()=>[u(y,{span:24},{default:_(()=>[V,u(v,{gutter:[8,8],class:"mt-8"},{default:_(()=>[(l(!0),c(T,null,b(o(p).user.boughtTrips,(m,e)=>(l(),S(y,{lg:8,sm:12,xs:24,key:e},{default:_(()=>[u(x,{class:"card",hoverable:""},{default:_(()=>[t("div",j,n(o(s)[e]?o(s)[e].name:""),1),u(g,{class:"ma-4",style:{"border-color":"#205F79"}}),t("div",null,[z,i(" "+n(o(s)[e]?o(s)[e].location:""),1)]),t("div",null,[L,i(" "+n(`c ${o(s)[e]?f(o(s)[e].start):""}`)+" ",1),$,i(" "+n(`\u043F\u043E ${o(s)[e]?f(o(s)[e].end):""}`),1)]),(l(!0),c(T,null,b(m.cart,d=>(l(),c("div",null,n(d.costType)+" "+n(d.count)+" x "+n(d.cost)+" \u0440\u0443\u0431. ",1))),256)),t("div",A,[E,i(" "+n(m.cart.reduce((d,w)=>d+w.cost*w.count,0))+" \u0440\u0443\u0431. ",1)]),m.isBoughtNow?(l(),c("div",M,Q)):(l(),c("div",R,G))]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})])}}};export{J as default};
